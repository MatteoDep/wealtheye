{{block "balance" .}}
<p>
  Plotting balance in
  {{template "assets-selection" .}}
</p>
{{end}}


{{block "assets-selection" .}}
<select name="symbol"
        hx-get="/plot" hx-target="#balance-plot" hx-trigger="change, load">
  {{range .Assets}}
    {{template "asset-option" .}}
  {{end}}
</select>
{{template "balance-plot" .}}
{{end}}


{{block "asset-option" .}}
<option value="{{.Symbol}}">{{.Symbol}}</option>
{{end}}


{{block "balance-plot" .}}
<div id="balance-plot" class="chart">
  <br>
  <br>
  <br>
  Plot of balance in {{.AssetSymbol}}.
  <br>
  Last asset prices are
  <ol>
    {{range .Prices}}
    <li>{{.TimestampUtc}} - {{.ValueUsd}}$</li>
    {{end}}
  </ol>
  <br>
  <br>
  <br>
</div>
{{end}}
